<!doctype html><html lang=en dir=auto><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>记一次接口优化 | Sunbufu's blog</title><meta name=keywords content="优化经验"><meta name=description content="记一次接口优化"><meta name=author content="sunbufu"><link rel=canonical href=https://sunbufu.netlify.app/posts/2021/2021-05-09-performance-optimization/><link crossorigin=anonymous href=/assets/css/stylesheet.min.b50dea21cb69b925c783abc4870e38fef3e55317f404eef2740034ed7a1c0ac5.css integrity="sha256-tQ3qIctpuSXHg6vEhw44/vPlUxf0BO7ydAA07XocCsU=" rel="preload stylesheet" as=style><link rel=preload href=/icon/favicon-152x152.png as=image><link rel=icon href=https://sunbufu.netlify.app/icon/favicon.ico><link rel=icon type=image/png sizes=16x16 href=https://sunbufu.netlify.app/icon/favicon-16x16.png><link rel=icon type=image/png sizes=32x32 href=https://sunbufu.netlify.app/icon/favicon-32x32.png><link rel=apple-touch-icon href=https://sunbufu.netlify.app/icon/apple-touch-icon.png><link rel=mask-icon href=https://sunbufu.netlify.app/icon/safari-pinned-tab.svg><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><meta name=generator content="Hugo 0.83.1"><script type=application/javascript>var doNotTrack=!1;doNotTrack||(function(a,e,f,g,b,c,d){a.GoogleAnalyticsObject=b,a[b]=a[b]||function(){(a[b].q=a[b].q||[]).push(arguments)},a[b].l=1*new Date,c=e.createElement(f),d=e.getElementsByTagName(f)[0],c.async=1,c.src=g,d.parentNode.insertBefore(c,d)}(window,document,'script','https://www.google-analytics.com/analytics.js','ga'),ga('create','UA-123-45','auto'),ga('send','pageview'))</script><meta property="og:title" content="记一次接口优化"><meta property="og:description" content="记一次接口优化"><meta property="og:type" content="article"><meta property="og:url" content="https://sunbufu.netlify.app/posts/2021/2021-05-09-performance-optimization/"><meta property="og:image" content="https://sunbufu.netlify.app/%3Clink%20or%20path%20of%20image%20for%20opengraph,%20twitter-cards%3E"><meta property="article:section" content="posts"><meta property="article:published_time" content="2021-05-09T00:00:00+00:00"><meta property="article:modified_time" content="2021-05-09T00:00:00+00:00"><meta property="og:site_name" content="ExampleSite"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="https://sunbufu.netlify.app/%3Clink%20or%20path%20of%20image%20for%20opengraph,%20twitter-cards%3E"><meta name=twitter:title content="记一次接口优化"><meta name=twitter:description content="记一次接口优化"><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Posts","item":"https://sunbufu.netlify.app/posts/"},{"@type":"ListItem","position":2,"name":"记一次接口优化","item":"https://sunbufu.netlify.app/posts/2021/2021-05-09-performance-optimization/"}]}</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"记一次接口优化","name":"记一次接口优化","description":"记一次接口优化","keywords":["优化经验"],"articleBody":"1、优化背景 最近在做一个隐私号相关的服务，其中一个主要的接口遇到了性能瓶颈，本文把优化的思路、过程和结果记录下来，以供备忘和之后参考。\n基础概念\n  隐私号服务：隐私保护通话（Private Number），针对企业的各种商业场景，在不增加SIM卡的情况下，为企业的用户增加隐私号码，使其既能享受优质的通话和短信服务，又能隐藏真实号码，保护个人隐私。—华为云\n  AXB：三个号码的绑定关系，其中X为隐私号码，A号码和B号码之间通过X号码进行通话。比如，在打车场景下，司机端为A号码，乘客端为B号码，之间通过X号码通话，两端看到的也都是X号码。（PS. 此处先不引入透传概念）\n  AX：两个号码的绑定关系，其中X为隐私号码，任意B号码呼叫X号码，都可以呼叫到A号码。\n  绑定冲突：假设同时存在号码A1X1B1与A1X1B2，那么A1拨打X1的时候，就不知道应该转给B1还是B2了，这种情况就是一种绑定冲突。同理假设同时存在A2X2与A3X2，也会出现绑定冲突。\n所以在同一个X号码的前提下，旧AXB关系中AB不允许与该X建立任何关系，旧AX关系中的X不允许建立任何关系，如下所示：\n      新AXB关系 新AX关系     旧AXB关系 AB号码有一个相同即冲突 冲突   旧AX关系 冲突 冲突    2、接口逻辑 隐私号服务提供绑定接口，该接口既支持AX绑定，也支持AXB绑定，除了要建立绑定关系之外，还要进行绑定冲突的校验，保证数据的正确性。主要逻辑如下所示：\n如上图所示，主要逻辑包括幂等校验和冲突校验，且全部借助DB实现，简略版sql（忽略过期时间等附加参数）如下所示：\n  幂等校验\nselect * from 绑定关系表 where 状态 = 已绑定 and A = A and X = X and B = B   AX冲突校验\nselect * from 绑定关系表 where 状态 = 已绑定 and X = X and B = ''   AXB冲突校验\nselect * from 绑定关系表 where 状态 = 已绑定 and X = X and (A in (A, B) or B in (A, B))   这种完全依赖DB的方式简单且易懂，但是在绑定关系表数量达到一定值且QPS也升上来时，这种单纯依赖DB的做法就显得力不从心了。一是DB比较脆弱QPS升上来时，DB的cpu飙升；二是随着绑定关系数量的增多，虽然有索引加持，但是QPS的压力全落在DB上，还是很容易出现慢sql，而且一旦出现慢sql，用户就会重试导致qps增高，DB就崩溃了，从而产生恶性循环最终导致整个服务的不可用。\n3、 优化策略 经过以上分析，我们很容易判断出性能瓶颈就是在DB上，所以优化的思路就围绕着减轻DB压力展开了。\n 幂等校验转移到缓存中，减轻DB压力 绑定冲突校验转移到缓存中，减轻DB压力 建立定时清理无效数据的机制，保证表记录在一个健康的级别内 建立用户级别的QPS限制机制，避免因为个别用户导致整体服务不可用  其中3和4都是辅助机制，本文中就不在详细描述了。\n3.1 幂等校验 如果现在去谷歌一下，相信可以找到很多现成方案，这里就不详细列举和对比每个方案的不同了，最后实现了一个比较成熟合适的方案如下：\n3.2 冲突校验 冲突校验比较特殊，没有成熟的方案用来参考，但是基本思路是一致的，就是减轻DB压力，把冲突校验也转移到缓存上来实现。\n想出的方案大概有两种：\n  把XA和XB关系作为key\n例一：\n1 新增A1X1B1时，缓存中新增X1A1和X1B1\n2 新增A2X1时，需在db判断\n3 新增A1X1B2时，因为缓存存在X1A1，则冲突\n4 新增A2X1B2时，缓存不存在X1A2、X1B2和X1，则不冲突\n例二：\n1 新增A1X1时，缓存中新增X1\n2 新增A2X1时，因为缓存存在X1，则冲突\n3 新增A2X1B2时，因为缓存存在X1，则冲突\n优点：\n 可以针对单独的绑定关系设置过期时间  缺点：\n 无法判断是否存在AX绑定关系，即无法处理添加AX时的情况    用X号码做key，维护一个set，set的内容为AB号码\n例一：\n1 新增A1X1B1时，redis中新增 X1=[A1,B1]\n2 新增A2X1时，判断redis中的X1中只要有值就算冲突\n3 新增A1X1B2时，因为redis的X1中已经存在A1，则冲突\n4 新增A2X1B2时，redis的X1中不存在A2和B1，则不冲突\n例二：\n1 新增A1X1时，redis中新增X1=[A1]\n2 新增A2X1时，因为redis的X1中有值，则冲突\n3 新增A2X1B2时，因为redis的X1中只有一个值，为旧有AX关系，则冲突\n优点：\n 可以处理AX的情况  缺点：\n 数据维护过程比较复杂    经过对比和讨论，最终采用方案2，流程图如下：\n4 优化总结 经过以上的优化，在保证接口的响应时长不变的前提下，最大QPS上升了一个数量级，具体的数值不方便列举。随着业务的增长也可以通过横向增加实例数量来支撑了，但是如果想在上一个数量级的话，DB还会成为瓶颈，可能就得考虑分库或者单独部署了。\n碍于篇幅，一些不太重要的地方没有在本文中一一列出，感兴趣的同学也可以email我。\n好久没写博客了，希望本文可以给你带来一点点帮助，也希望我可以平衡工作和生活吧。\n","wordCount":"147","inLanguage":"en","datePublished":"2021-05-09T00:00:00Z","dateModified":"2021-05-09T00:00:00Z","author":{"@type":"Person","name":"sunbufu"},"mainEntityOfPage":{"@type":"WebPage","@id":"https://sunbufu.netlify.app/posts/2021/2021-05-09-performance-optimization/"},"publisher":{"@type":"Organization","name":"Sunbufu's blog","logo":{"@type":"ImageObject","url":"https://sunbufu.netlify.app/icon/favicon.ico"}}}</script></head><body id=top><script>localStorage.getItem("pref-theme")==="dark"?document.body.classList.add('dark'):localStorage.getItem("pref-theme")==="light"?document.body.classList.remove('dark'):window.matchMedia('(prefers-color-scheme: dark)').matches&&document.body.classList.add('dark')</script><noscript><style type=text/css>#theme-toggle,.top-link{display:none}</style><style>@media(prefers-color-scheme:dark){:root{--theme:#1d1e20;--entry:#2e2e33;--primary:rgba(255, 255, 255, 0.84);--secondary:rgba(255, 255, 255, 0.56);--tertiary:rgba(255, 255, 255, 0.16);--content:rgba(255, 255, 255, 0.74);--hljs-bg:#2e2e33;--code-bg:#37383e;--border:#333}.list{background:var(--theme)}.list:not(.dark)::-webkit-scrollbar-track{background:0 0}.list:not(.dark)::-webkit-scrollbar-thumb{border-color:var(--theme)}}</style></noscript><header class=header><nav class=nav><div class=logo><a href=https://sunbufu.netlify.app/ accesskey=h title="Sunbufu's blog (Alt + H)">Sunbufu's blog</a>
<span class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)"><svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg><svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button></span></div><ul id=menu><li><a href=https://sunbufu.netlify.app/posts/ title=Posts><span>Posts</span></a></li><li><a href=https://sunbufu.netlify.app/tags/ title=Tags><span>Tags</span></a></li><li><a href=https://sunbufu.netlify.app/about/ title=About><span>About</span></a></li></ul></nav></header><main class=main><article class=post-single><header class=post-header><div class=breadcrumbs><a href=https://sunbufu.netlify.app/>Home</a>&nbsp;»&nbsp;<a href=https://sunbufu.netlify.app/posts/>Posts</a></div><h1 class=post-title>记一次接口优化</h1><div class=post-description>记一次接口优化</div><div class=post-meta>May 9, 2021&nbsp;·&nbsp;1 min&nbsp;·&nbsp;sunbufu</div></header><div class=post-content><h1 id=1优化背景>1、优化背景<a hidden class=anchor aria-hidden=true href=#1优化背景>#</a></h1><p>最近在做一个隐私号相关的服务，其中一个主要的接口遇到了性能瓶颈，本文把优化的思路、过程和结果记录下来，以供备忘和之后参考。</p><p><strong>基础概念</strong></p><ul><li><p>隐私号服务：隐私保护通话（Private Number），针对企业的各种商业场景，在不增加SIM卡的情况下，为企业的用户增加隐私号码，使其既能享受优质的通话和短信服务，又能隐藏真实号码，保护个人隐私。—<a href=https://www.huaweicloud.com/product/privatenumber.html target=_blank rel=noopener>华为云</a></p></li><li><p>AXB：三个号码的绑定关系，其中X为隐私号码，A号码和B号码之间通过X号码进行通话。比如，在打车场景下，司机端为A号码，乘客端为B号码，之间通过X号码通话，两端看到的也都是X号码。（PS. 此处先不引入透传概念）</p></li><li><p>AX：两个号码的绑定关系，其中X为隐私号码，任意B号码呼叫X号码，都可以呼叫到A号码。</p></li><li><p>绑定冲突：假设同时存在号码A1X1B1与A1X1B2，那么A1拨打X1的时候，就不知道应该转给B1还是B2了，这种情况就是一种绑定冲突。同理假设同时存在A2X2与A3X2，也会出现绑定冲突。</p><p>所以在同一个X号码的前提下，旧AXB关系中AB不允许与该X建立任何关系，旧AX关系中的X不允许建立任何关系，如下所示：</p></li></ul><table><thead><tr><th style=text-align:center></th><th style=text-align:center>新AXB关系</th><th style=text-align:center>新AX关系</th></tr></thead><tbody><tr><td style=text-align:center>旧AXB关系</td><td style=text-align:center>AB号码有一个相同即冲突</td><td style=text-align:center>冲突</td></tr><tr><td style=text-align:center>旧AX关系</td><td style=text-align:center>冲突</td><td style=text-align:center>冲突</td></tr></tbody></table><h1 id=2接口逻辑>2、接口逻辑<a hidden class=anchor aria-hidden=true href=#2接口逻辑>#</a></h1><p>隐私号服务提供绑定接口，该接口既支持AX绑定，也支持AXB绑定，除了要建立绑定关系之外，还要进行绑定冲突的校验，保证数据的正确性。主要逻辑如下所示：</p><p><img loading=lazy src=/posts/2021/bind-flow.png alt=接口逻辑></p><p>如上图所示，主要逻辑包括幂等校验和冲突校验，且全部借助DB实现，简略版sql（忽略过期时间等附加参数）如下所示：</p><ol><li><p>幂等校验</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sql data-lang=sql><span style=color:#66d9ef>select</span> <span style=color:#f92672>*</span>
<span style=color:#66d9ef>from</span> <span style=color:#960050;background-color:#1e0010>绑定关系表</span>
<span style=color:#66d9ef>where</span> <span style=color:#960050;background-color:#1e0010>状态</span> <span style=color:#f92672>=</span> <span style=color:#960050;background-color:#1e0010>已绑定</span>
<span style=color:#66d9ef>and</span> A <span style=color:#f92672>=</span> A
<span style=color:#66d9ef>and</span> X <span style=color:#f92672>=</span> X
<span style=color:#66d9ef>and</span> B <span style=color:#f92672>=</span> B
</code></pre></div></li><li><p>AX冲突校验</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sql data-lang=sql><span style=color:#66d9ef>select</span> <span style=color:#f92672>*</span>
<span style=color:#66d9ef>from</span> <span style=color:#960050;background-color:#1e0010>绑定关系表</span>
<span style=color:#66d9ef>where</span> <span style=color:#960050;background-color:#1e0010>状态</span> <span style=color:#f92672>=</span> <span style=color:#960050;background-color:#1e0010>已绑定</span>
<span style=color:#66d9ef>and</span> X <span style=color:#f92672>=</span> X
<span style=color:#66d9ef>and</span> B <span style=color:#f92672>=</span> <span style=color:#e6db74>&#39;&#39;</span>
</code></pre></div></li><li><p>AXB冲突校验</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sql data-lang=sql><span style=color:#66d9ef>select</span> <span style=color:#f92672>*</span>
<span style=color:#66d9ef>from</span> <span style=color:#960050;background-color:#1e0010>绑定关系表</span>
<span style=color:#66d9ef>where</span> <span style=color:#960050;background-color:#1e0010>状态</span> <span style=color:#f92672>=</span> <span style=color:#960050;background-color:#1e0010>已绑定</span>
<span style=color:#66d9ef>and</span> X <span style=color:#f92672>=</span> X
<span style=color:#66d9ef>and</span> (A <span style=color:#66d9ef>in</span> (A, B) <span style=color:#66d9ef>or</span> B <span style=color:#66d9ef>in</span> (A, B))
</code></pre></div></li></ol><p>这种完全依赖DB的方式简单且易懂，但是在绑定关系表数量达到一定值且QPS也升上来时，这种单纯依赖DB的做法就显得力不从心了。一是DB比较脆弱QPS升上来时，DB的cpu飙升；二是随着绑定关系数量的增多，虽然有索引加持，但是QPS的压力全落在DB上，还是很容易出现慢sql，而且一旦出现慢sql，用户就会重试导致qps增高，DB就崩溃了，从而产生恶性循环最终导致整个服务的不可用。</p><h1 id=3-优化策略>3、 优化策略<a hidden class=anchor aria-hidden=true href=#3-优化策略>#</a></h1><p>经过以上分析，我们很容易判断出性能瓶颈就是在DB上，所以优化的思路就围绕着减轻DB压力展开了。</p><ol><li>幂等校验转移到缓存中，减轻DB压力</li><li>绑定冲突校验转移到缓存中，减轻DB压力</li><li>建立定时清理无效数据的机制，保证表记录在一个健康的级别内</li><li>建立用户级别的QPS限制机制，避免因为个别用户导致整体服务不可用</li></ol><p>其中3和4都是辅助机制，本文中就不在详细描述了。</p><h2 id=31-幂等校验>3.1 幂等校验<a hidden class=anchor aria-hidden=true href=#31-幂等校验>#</a></h2><p>如果现在去谷歌一下，相信可以找到很多现成方案，这里就不详细列举和对比每个方案的不同了，最后实现了一个比较成熟合适的方案如下：</p><p><img loading=lazy src=/posts/2021/idempotent-flow.png alt=幂等校验></p><h2 id=32-冲突校验>3.2 冲突校验<a hidden class=anchor aria-hidden=true href=#32-冲突校验>#</a></h2><p>冲突校验比较特殊，没有成熟的方案用来参考，但是基本思路是一致的，就是减轻DB压力，把冲突校验也转移到缓存上来实现。</p><p>想出的方案大概有两种：</p><ol><li><p><strong>把XA和XB关系作为key</strong></p><p><strong>例一：</strong></p><p>1 新增A1X1B1时，缓存中新增X1A1和X1B1</p><p>2 新增A2X1时，需在db判断</p><p>3 新增A1X1B2时，因为缓存存在X1A1，则冲突</p><p>4 新增A2X1B2时，缓存不存在X1A2、X1B2和X1，则不冲突</p><p><strong>例二：</strong></p><p>1 新增A1X1时，缓存中新增X1</p><p>2 新增A2X1时，因为缓存存在X1，则冲突</p><p>3 新增A2X1B2时，因为缓存存在X1，则冲突</p><p><strong>优点：</strong></p><ul><li>可以针对单独的绑定关系设置过期时间</li></ul><p><strong>缺点：</strong></p><ul><li>无法判断是否存在AX绑定关系，即无法处理添加AX时的情况</li></ul></li><li><p><strong>用X号码做key，维护一个set，set的内容为AB号码</strong></p><p><strong>例一：</strong></p><p>1 新增A1X1B1时，redis中新增 X1=[A1,B1]</p><p>2 新增A2X1时，判断redis中的X1中只要有值就算冲突</p><p>3 新增A1X1B2时，因为redis的X1中已经存在A1，则冲突</p><p>4 新增A2X1B2时，redis的X1中不存在A2和B1，则不冲突</p><p><strong>例二：</strong></p><p>1 新增A1X1时，redis中新增X1=[A1]</p><p>2 新增A2X1时，因为redis的X1中有值，则冲突</p><p>3 新增A2X1B2时，因为redis的X1中只有一个值，为旧有AX关系，则冲突</p><p><strong>优点：</strong></p><ul><li>可以处理AX的情况</li></ul><p><strong>缺点：</strong></p><ul><li>数据维护过程比较复杂</li></ul></li></ol><p>经过对比和讨论，最终采用方案2，流程图如下：</p><p><img loading=lazy src=/posts/2021/conflict-flow.png alt=绑定校验></p><h1 id=4-优化总结>4 优化总结<a hidden class=anchor aria-hidden=true href=#4-优化总结>#</a></h1><p>经过以上的优化，在保证接口的响应时长不变的前提下，最大QPS上升了一个数量级，具体的数值不方便列举。随着业务的增长也可以通过横向增加实例数量来支撑了，但是如果想在上一个数量级的话，DB还会成为瓶颈，可能就得考虑分库或者单独部署了。</p><p>碍于篇幅，一些不太重要的地方没有在本文中一一列出，感兴趣的同学也可以email我。</p><p>好久没写博客了，希望本文可以给你带来一点点帮助，也希望我可以平衡工作和生活吧。</p></div><footer class=post-footer><ul class=post-tags><li><a href=https://sunbufu.netlify.app/tags/experience/>experience</a></li></ul><nav class=paginav><a class=next href=https://sunbufu.netlify.app/posts/2020/2020-09-13-sunday/><span class=title>Next Page »</span><br><span>一个小周日</span></a></nav></footer></article></main><footer class=footer><span>&copy; 2021 <a href=https://sunbufu.netlify.app/>Sunbufu's blog</a></span>
<span>Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
        <a href=https://git.io/hugopapermod rel=noopener target=_blank>PaperMod</a></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)"><button class=top-link id=top-link type=button accesskey=g><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentcolor"><path d="M12 6H0l6-6z"/></svg></button></a>
<script>let menu=document.getElementById('menu');menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)},document.querySelectorAll('a[href^="#"]').forEach(a=>{a.addEventListener("click",function(b){b.preventDefault();var a=this.getAttribute("href").substr(1);window.matchMedia('(prefers-reduced-motion: reduce)').matches?document.querySelector(`[id='${decodeURIComponent(a)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(a)}']`).scrollIntoView({behavior:"smooth"}),a==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${a}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove('dark'),localStorage.setItem("pref-theme",'light')):(document.body.classList.add('dark'),localStorage.setItem("pref-theme",'dark'))})</script></body></html>