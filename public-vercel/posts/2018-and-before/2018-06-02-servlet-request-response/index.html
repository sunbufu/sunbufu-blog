<!doctype html><html lang=en dir=auto><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>Servlet分析Request和Response | Sunbufu's blog</title><meta name=keywords content="java,web,,servlet"><meta name=description content="servlet分析request和response"><meta name=author content="sunbufu"><link rel=canonical href=https://sunbufu.vercel.app/posts/2018-and-before/2018-06-02-servlet-request-response/><link crossorigin=anonymous href=/assets/css/stylesheet.min.b50dea21cb69b925c783abc4870e38fef3e55317f404eef2740034ed7a1c0ac5.css integrity="sha256-tQ3qIctpuSXHg6vEhw44/vPlUxf0BO7ydAA07XocCsU=" rel="preload stylesheet" as=style><link rel=preload href=/icon/favicon-152x152.png as=image><link rel=icon href=https://sunbufu.vercel.app/icon/favicon.ico><link rel=icon type=image/png sizes=16x16 href=https://sunbufu.vercel.app/icon/favicon-16x16.png><link rel=icon type=image/png sizes=32x32 href=https://sunbufu.vercel.app/icon/favicon-32x32.png><link rel=apple-touch-icon href=https://sunbufu.vercel.app/icon/apple-touch-icon.png><link rel=mask-icon href=https://sunbufu.vercel.app/icon/safari-pinned-tab.svg><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><meta name=generator content="Hugo 0.83.1"><script type=application/javascript>var doNotTrack=!1;doNotTrack||(function(a,e,f,g,b,c,d){a.GoogleAnalyticsObject=b,a[b]=a[b]||function(){(a[b].q=a[b].q||[]).push(arguments)},a[b].l=1*new Date,c=e.createElement(f),d=e.getElementsByTagName(f)[0],c.async=1,c.src=g,d.parentNode.insertBefore(c,d)}(window,document,'script','https://www.google-analytics.com/analytics.js','ga'),ga('create','UA-123-45','auto'),ga('send','pageview'))</script><meta property="og:title" content="Servlet分析Request和Response"><meta property="og:description" content="servlet分析request和response"><meta property="og:type" content="article"><meta property="og:url" content="https://sunbufu.vercel.app/posts/2018-and-before/2018-06-02-servlet-request-response/"><meta property="og:image" content="https://sunbufu.vercel.app/%3Clink%20or%20path%20of%20image%20for%20opengraph,%20twitter-cards%3E"><meta property="article:section" content="posts"><meta property="article:published_time" content="2018-06-02T00:00:00+00:00"><meta property="article:modified_time" content="2018-06-02T00:00:00+00:00"><meta property="og:site_name" content="ExampleSite"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="https://sunbufu.vercel.app/%3Clink%20or%20path%20of%20image%20for%20opengraph,%20twitter-cards%3E"><meta name=twitter:title content="Servlet分析Request和Response"><meta name=twitter:description content="servlet分析request和response"><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Posts","item":"https://sunbufu.vercel.app/posts/"},{"@type":"ListItem","position":2,"name":"Servlet分析Request和Response","item":"https://sunbufu.vercel.app/posts/2018-and-before/2018-06-02-servlet-request-response/"}]}</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"Servlet分析Request和Response","name":"Servlet分析Request和Response","description":"servlet分析request和response","keywords":["java","web,","servlet"],"articleBody":"分析Request\nimport java.io.IOException; import java.util.Enumeration; import javax.servlet.ServletException; import javax.servlet.http.HttpServlet; import javax.servlet.http.HttpServletRequest; import javax.servlet.http.HttpServletResponse; /** * Interface * servlet容器（服务器）创建了这个对象,和服务器耦合性高 * 为了让解析请求信息更加的方便 * 行 * 头 * 网 * 体\t*/ public class HiServlet extends HttpServlet { @Override protected void service(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException { //获取请求行信息 \tgetRequestLine(request); //获取请求头信息 \tgetRequestHeader(request); //获取网络信息信息 \tgetRequestNet(request); //获取请求体信息 \tgetRequestBody(request); } /** * 获取请求行信息 * @param request */ private void getRequestLine(HttpServletRequest request) { System.out.println(\"请求方式\" + request.getMethod()); System.out.println(\"资源路径url\" + request.getRequestURL()); System.out.println(\"资源路径uri\" + request.getRequestURI()); System.out.println(\"协议\" + request.getScheme()); System.out.println(\"协议版本\" + request.getProtocol()); System.out.println(\"项目名称\" + request.getContextPath()); } /** * 获取请求头信息 * @param request */ private void getRequestHeader(HttpServletRequest request) { //获取指定的请求头信息 \tSystem.out.println(\"User-Agent:\" + request.getHeader(\"User-Agent\")); System.out.println(\"User-Agent:\" + request.getHeader(\"User-Agent\".toLowerCase()));//大小写无影响 \tSystem.out.println(\"User-Agent:\" + request.getHeader(\"User-Agent\".toUpperCase())); //获取所有的请求头信息 \tEnumerationString headerNames = request.getHeaderNames(); //遍历所有的名字 \twhile (headerNames.hasMoreElements()) { //获取请求头的名字 \tString headerName = headerNames.nextElement(); //获取名字对应的值 \tSystem.out.println(headerName + \":\" + request.getHeader(headerName)); } } /** * 获取网络信息 * @param request */ private void getRequestNet(HttpServletRequest request) { System.out.println(\"服务器信息:\" + request.getLocalAddr() + \":\" + request.getLocalPort()); System.out.println(\"客户端信息:\" + request.getRemoteAddr() + \":\" + request.getRemotePort()); } /** * 获取请求参数 * @param request */ private void getRequestBody(HttpServletRequest request) { //获取请求参数对应的值 \tSystem.out.println(\"用户名\" + request.getParameter(\"uname\"));//text \tSystem.out.println(\"密码\" + request.getParameter(\"pwd\"));//password \tSystem.out.println(\"电子邮箱\" + request.getParameter(\"email\"));//text \tSystem.out.println(\"年龄\" + request.getParameter(\"age\"));//text \tSystem.out.println(\"真实姓名\" + request.getParameter(\"realname\"));//text \tSystem.out.println(\"性别\" + request.getParameter(\"gender\"));//radio \t//一对多的时候 \tString[] favs = request.getParameterValues(\"fav\");//checkbox \t//判断是否为空 \tif (favs != null \u0026\u0026 favs.length = 1) { //遍历 \tfor (int i = 0; i  favs.length; i++) { System.out.println(favs[i]); } } } } 分析Response\nimport java.io.IOException; import javax.servlet.ServletException; import javax.servlet.ServletResponse; import javax.servlet.http.HttpServlet; import javax.servlet.http.HttpServletRequest; import javax.servlet.http.HttpServletResponse; /** * 服务器创建了这个对象 * 行 * 头 * 体 * @author Administrator * */ public class HiServlet extends HttpServlet { @Override protected void service(HttpServletRequest req, HttpServletResponse resp) throws ServletException, IOException { System.out.println(\"HiServlet.service()\"); //响应行(一般不需要程序员手动操作 \t//\tresp.setStatus(HttpServletResponse.SC_NOT_FOUND); \t//响应头 \tresp.setHeader(\"Server\", \"Tomcat\"); //不能设置同名的值，新值会覆盖掉上一个值 \tresp.setHeader(\"hello\", \"bjsxt\"); resp.setHeader(\"hello\", \"sxt\"); //允许多个同名的值 \tresp.addHeader(\"hi\", \"hanmeimei\"); resp.addHeader(\"hi\", \"lilei\"); //设置mime类型(可以解决中文乱码) \tresp.setCharacterEncoding(\"UTF-8\"); resp.setHeader(\"content-type\", \"text/html;charset=utf-8\"); //响应实体内容 \tresp.getWriter().print(\"hello 汉字 jin liang bu yao chu xian zhong wen\" + Math.random() + \" \"); } } ","wordCount":"304","inLanguage":"en","datePublished":"2018-06-02T00:00:00Z","dateModified":"2018-06-02T00:00:00Z","author":{"@type":"Person","name":"sunbufu"},"mainEntityOfPage":{"@type":"WebPage","@id":"https://sunbufu.vercel.app/posts/2018-and-before/2018-06-02-servlet-request-response/"},"publisher":{"@type":"Organization","name":"Sunbufu's blog","logo":{"@type":"ImageObject","url":"https://sunbufu.vercel.app/icon/favicon.ico"}}}</script></head><body id=top><script>localStorage.getItem("pref-theme")==="dark"?document.body.classList.add('dark'):localStorage.getItem("pref-theme")==="light"?document.body.classList.remove('dark'):window.matchMedia('(prefers-color-scheme: dark)').matches&&document.body.classList.add('dark')</script><noscript><style type=text/css>#theme-toggle,.top-link{display:none}</style><style>@media(prefers-color-scheme:dark){:root{--theme:#1d1e20;--entry:#2e2e33;--primary:rgba(255, 255, 255, 0.84);--secondary:rgba(255, 255, 255, 0.56);--tertiary:rgba(255, 255, 255, 0.16);--content:rgba(255, 255, 255, 0.74);--hljs-bg:#2e2e33;--code-bg:#37383e;--border:#333}.list{background:var(--theme)}.list:not(.dark)::-webkit-scrollbar-track{background:0 0}.list:not(.dark)::-webkit-scrollbar-thumb{border-color:var(--theme)}}</style></noscript><header class=header><nav class=nav><div class=logo><a href=https://sunbufu.vercel.app/ accesskey=h title="Sunbufu's blog (Alt + H)">Sunbufu's blog</a>
<span class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)"><svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg><svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button></span></div><ul id=menu><li><a href=https://sunbufu.vercel.app/posts/ title=Posts><span>Posts</span></a></li><li><a href=https://sunbufu.vercel.app/tags/ title=Tags><span>Tags</span></a></li><li><a href=https://sunbufu.vercel.app/about/ title=About><span>About</span></a></li></ul></nav></header><main class=main><article class=post-single><header class=post-header><div class=breadcrumbs><a href=https://sunbufu.vercel.app/>Home</a>&nbsp;»&nbsp;<a href=https://sunbufu.vercel.app/posts/>Posts</a></div><h1 class=post-title>Servlet分析Request和Response</h1><div class=post-description>servlet分析request和response</div><div class=post-meta>June 2, 2018&nbsp;·&nbsp;2 min&nbsp;·&nbsp;sunbufu</div></header><div class=post-content><p>分析Request</p><div class=highlight><pre style=color:#e7e9db;background-color:#2f1e2e;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=color:#5bc4bf>import</span> <span style=color:#fec418>java.io.IOException</span><span style=color:#5bc4bf>;</span>
<span style=color:#5bc4bf>import</span> <span style=color:#fec418>java.util.Enumeration</span><span style=color:#5bc4bf>;</span>

<span style=color:#5bc4bf>import</span> <span style=color:#fec418>javax.servlet.ServletException</span><span style=color:#5bc4bf>;</span>
<span style=color:#5bc4bf>import</span> <span style=color:#fec418>javax.servlet.http.HttpServlet</span><span style=color:#5bc4bf>;</span>
<span style=color:#5bc4bf>import</span> <span style=color:#fec418>javax.servlet.http.HttpServletRequest</span><span style=color:#5bc4bf>;</span>
<span style=color:#5bc4bf>import</span> <span style=color:#fec418>javax.servlet.http.HttpServletResponse</span><span style=color:#5bc4bf>;</span>

<span style=color:#776e71>/**
</span><span style=color:#776e71> * Interface
</span><span style=color:#776e71> * 		servlet容器（服务器）创建了这个对象,和服务器耦合性高
</span><span style=color:#776e71> * 为了让解析请求信息更加的方便
</span><span style=color:#776e71> * 		行
</span><span style=color:#776e71> * 		头
</span><span style=color:#776e71> * 		网
</span><span style=color:#776e71> * 		体		
</span><span style=color:#776e71> */</span>
<span style=color:#815ba4>public</span> <span style=color:#815ba4>class</span> <span style=color:#fec418>HiServlet</span> <span style=color:#815ba4>extends</span> HttpServlet <span style=color:#5bc4bf>{</span>
	<span style=color:#5bc4bf>@Override</span>
	<span style=color:#815ba4>protected</span> <span style=color:#fec418>void</span> <span style=color:#06b6ef>service</span><span style=color:#5bc4bf>(</span>HttpServletRequest request<span style=color:#5bc4bf>,</span> HttpServletResponse response<span style=color:#5bc4bf>)</span> <span style=color:#815ba4>throws</span> ServletException<span style=color:#5bc4bf>,</span> IOException <span style=color:#5bc4bf>{</span>
		<span style=color:#776e71>//获取请求行信息
</span><span style=color:#776e71></span>		getRequestLine<span style=color:#5bc4bf>(</span>request<span style=color:#5bc4bf>);</span>
		<span style=color:#776e71>//获取请求头信息
</span><span style=color:#776e71></span>		getRequestHeader<span style=color:#5bc4bf>(</span>request<span style=color:#5bc4bf>);</span>
		<span style=color:#776e71>//获取网络信息信息
</span><span style=color:#776e71></span>		getRequestNet<span style=color:#5bc4bf>(</span>request<span style=color:#5bc4bf>);</span>
		<span style=color:#776e71>//获取请求体信息
</span><span style=color:#776e71></span>		getRequestBody<span style=color:#5bc4bf>(</span>request<span style=color:#5bc4bf>);</span>
	<span style=color:#5bc4bf>}</span>

	<span style=color:#776e71>/**
</span><span style=color:#776e71>		 * 获取请求行信息
</span><span style=color:#776e71>		 * @param request
</span><span style=color:#776e71>		 */</span>
	<span style=color:#815ba4>private</span> <span style=color:#fec418>void</span> <span style=color:#06b6ef>getRequestLine</span><span style=color:#5bc4bf>(</span>HttpServletRequest request<span style=color:#5bc4bf>)</span> <span style=color:#5bc4bf>{</span>
		System<span style=color:#5bc4bf>.</span><span style=color:#06b6ef>out</span><span style=color:#5bc4bf>.</span><span style=color:#06b6ef>println</span><span style=color:#5bc4bf>(</span><span style=color:#48b685>&#34;请求方式&#34;</span> <span style=color:#5bc4bf>+</span> request<span style=color:#5bc4bf>.</span><span style=color:#06b6ef>getMethod</span><span style=color:#5bc4bf>());</span>
		System<span style=color:#5bc4bf>.</span><span style=color:#06b6ef>out</span><span style=color:#5bc4bf>.</span><span style=color:#06b6ef>println</span><span style=color:#5bc4bf>(</span><span style=color:#48b685>&#34;资源路径url&#34;</span> <span style=color:#5bc4bf>+</span> request<span style=color:#5bc4bf>.</span><span style=color:#06b6ef>getRequestURL</span><span style=color:#5bc4bf>());</span>
		System<span style=color:#5bc4bf>.</span><span style=color:#06b6ef>out</span><span style=color:#5bc4bf>.</span><span style=color:#06b6ef>println</span><span style=color:#5bc4bf>(</span><span style=color:#48b685>&#34;资源路径uri&#34;</span> <span style=color:#5bc4bf>+</span> request<span style=color:#5bc4bf>.</span><span style=color:#06b6ef>getRequestURI</span><span style=color:#5bc4bf>());</span>
		System<span style=color:#5bc4bf>.</span><span style=color:#06b6ef>out</span><span style=color:#5bc4bf>.</span><span style=color:#06b6ef>println</span><span style=color:#5bc4bf>(</span><span style=color:#48b685>&#34;协议&#34;</span> <span style=color:#5bc4bf>+</span> request<span style=color:#5bc4bf>.</span><span style=color:#06b6ef>getScheme</span><span style=color:#5bc4bf>());</span>
		System<span style=color:#5bc4bf>.</span><span style=color:#06b6ef>out</span><span style=color:#5bc4bf>.</span><span style=color:#06b6ef>println</span><span style=color:#5bc4bf>(</span><span style=color:#48b685>&#34;协议版本&#34;</span> <span style=color:#5bc4bf>+</span> request<span style=color:#5bc4bf>.</span><span style=color:#06b6ef>getProtocol</span><span style=color:#5bc4bf>());</span>
		System<span style=color:#5bc4bf>.</span><span style=color:#06b6ef>out</span><span style=color:#5bc4bf>.</span><span style=color:#06b6ef>println</span><span style=color:#5bc4bf>(</span><span style=color:#48b685>&#34;项目名称&#34;</span> <span style=color:#5bc4bf>+</span> request<span style=color:#5bc4bf>.</span><span style=color:#06b6ef>getContextPath</span><span style=color:#5bc4bf>());</span>
	<span style=color:#5bc4bf>}</span>

	<span style=color:#776e71>/**
</span><span style=color:#776e71>	 * 获取请求头信息
</span><span style=color:#776e71>	 * @param request
</span><span style=color:#776e71>	 */</span>
	<span style=color:#815ba4>private</span> <span style=color:#fec418>void</span> <span style=color:#06b6ef>getRequestHeader</span><span style=color:#5bc4bf>(</span>HttpServletRequest request<span style=color:#5bc4bf>)</span> <span style=color:#5bc4bf>{</span>
		<span style=color:#776e71>//获取指定的请求头信息
</span><span style=color:#776e71></span>		System<span style=color:#5bc4bf>.</span><span style=color:#06b6ef>out</span><span style=color:#5bc4bf>.</span><span style=color:#06b6ef>println</span><span style=color:#5bc4bf>(</span><span style=color:#48b685>&#34;User-Agent:&#34;</span> <span style=color:#5bc4bf>+</span> request<span style=color:#5bc4bf>.</span><span style=color:#06b6ef>getHeader</span><span style=color:#5bc4bf>(</span><span style=color:#48b685>&#34;User-Agent&#34;</span><span style=color:#5bc4bf>));</span>
		System<span style=color:#5bc4bf>.</span><span style=color:#06b6ef>out</span><span style=color:#5bc4bf>.</span><span style=color:#06b6ef>println</span><span style=color:#5bc4bf>(</span><span style=color:#48b685>&#34;User-Agent:&#34;</span> <span style=color:#5bc4bf>+</span> request<span style=color:#5bc4bf>.</span><span style=color:#06b6ef>getHeader</span><span style=color:#5bc4bf>(</span><span style=color:#48b685>&#34;User-Agent&#34;</span><span style=color:#5bc4bf>.</span><span style=color:#06b6ef>toLowerCase</span><span style=color:#5bc4bf>()));</span><span style=color:#776e71>//大小写无影响
</span><span style=color:#776e71></span>		System<span style=color:#5bc4bf>.</span><span style=color:#06b6ef>out</span><span style=color:#5bc4bf>.</span><span style=color:#06b6ef>println</span><span style=color:#5bc4bf>(</span><span style=color:#48b685>&#34;User-Agent:&#34;</span> <span style=color:#5bc4bf>+</span> request<span style=color:#5bc4bf>.</span><span style=color:#06b6ef>getHeader</span><span style=color:#5bc4bf>(</span><span style=color:#48b685>&#34;User-Agent&#34;</span><span style=color:#5bc4bf>.</span><span style=color:#06b6ef>toUpperCase</span><span style=color:#5bc4bf>()));</span>
		<span style=color:#776e71>//获取所有的请求头信息
</span><span style=color:#776e71></span>		Enumeration<span style=color:#5bc4bf>&lt;</span>String<span style=color:#5bc4bf>&gt;</span> headerNames <span style=color:#5bc4bf>=</span> request<span style=color:#5bc4bf>.</span><span style=color:#06b6ef>getHeaderNames</span><span style=color:#5bc4bf>();</span>
		<span style=color:#776e71>//遍历所有的名字
</span><span style=color:#776e71></span>		<span style=color:#815ba4>while</span> <span style=color:#5bc4bf>(</span>headerNames<span style=color:#5bc4bf>.</span><span style=color:#06b6ef>hasMoreElements</span><span style=color:#5bc4bf>())</span> <span style=color:#5bc4bf>{</span>
			<span style=color:#776e71>//获取请求头的名字
</span><span style=color:#776e71></span>			String headerName <span style=color:#5bc4bf>=</span> headerNames<span style=color:#5bc4bf>.</span><span style=color:#06b6ef>nextElement</span><span style=color:#5bc4bf>();</span>
			<span style=color:#776e71>//获取名字对应的值
</span><span style=color:#776e71></span>			System<span style=color:#5bc4bf>.</span><span style=color:#06b6ef>out</span><span style=color:#5bc4bf>.</span><span style=color:#06b6ef>println</span><span style=color:#5bc4bf>(</span>headerName <span style=color:#5bc4bf>+</span> <span style=color:#48b685>&#34;:&#34;</span> <span style=color:#5bc4bf>+</span> request<span style=color:#5bc4bf>.</span><span style=color:#06b6ef>getHeader</span><span style=color:#5bc4bf>(</span>headerName<span style=color:#5bc4bf>));</span>
		<span style=color:#5bc4bf>}</span>
	<span style=color:#5bc4bf>}</span>

	<span style=color:#776e71>/**
</span><span style=color:#776e71>	 * 获取网络信息
</span><span style=color:#776e71>	 * @param request
</span><span style=color:#776e71>	 */</span>
	<span style=color:#815ba4>private</span> <span style=color:#fec418>void</span> <span style=color:#06b6ef>getRequestNet</span><span style=color:#5bc4bf>(</span>HttpServletRequest request<span style=color:#5bc4bf>)</span> <span style=color:#5bc4bf>{</span>
		System<span style=color:#5bc4bf>.</span><span style=color:#06b6ef>out</span><span style=color:#5bc4bf>.</span><span style=color:#06b6ef>println</span><span style=color:#5bc4bf>(</span><span style=color:#48b685>&#34;服务器信息:&#34;</span> <span style=color:#5bc4bf>+</span> request<span style=color:#5bc4bf>.</span><span style=color:#06b6ef>getLocalAddr</span><span style=color:#5bc4bf>()</span> <span style=color:#5bc4bf>+</span> <span style=color:#48b685>&#34;:&#34;</span> <span style=color:#5bc4bf>+</span> request<span style=color:#5bc4bf>.</span><span style=color:#06b6ef>getLocalPort</span><span style=color:#5bc4bf>());</span>
		System<span style=color:#5bc4bf>.</span><span style=color:#06b6ef>out</span><span style=color:#5bc4bf>.</span><span style=color:#06b6ef>println</span><span style=color:#5bc4bf>(</span><span style=color:#48b685>&#34;客户端信息:&#34;</span> <span style=color:#5bc4bf>+</span> request<span style=color:#5bc4bf>.</span><span style=color:#06b6ef>getRemoteAddr</span><span style=color:#5bc4bf>()</span> <span style=color:#5bc4bf>+</span> <span style=color:#48b685>&#34;:&#34;</span> <span style=color:#5bc4bf>+</span> request<span style=color:#5bc4bf>.</span><span style=color:#06b6ef>getRemotePort</span><span style=color:#5bc4bf>());</span>
	<span style=color:#5bc4bf>}</span>

	<span style=color:#776e71>/**
</span><span style=color:#776e71>	 * 获取请求参数
</span><span style=color:#776e71>	 * @param request
</span><span style=color:#776e71>	 */</span>
	<span style=color:#815ba4>private</span> <span style=color:#fec418>void</span> <span style=color:#06b6ef>getRequestBody</span><span style=color:#5bc4bf>(</span>HttpServletRequest request<span style=color:#5bc4bf>)</span> <span style=color:#5bc4bf>{</span>
		<span style=color:#776e71>//获取请求参数对应的值
</span><span style=color:#776e71></span>		System<span style=color:#5bc4bf>.</span><span style=color:#06b6ef>out</span><span style=color:#5bc4bf>.</span><span style=color:#06b6ef>println</span><span style=color:#5bc4bf>(</span><span style=color:#48b685>&#34;用户名&#34;</span> <span style=color:#5bc4bf>+</span> request<span style=color:#5bc4bf>.</span><span style=color:#06b6ef>getParameter</span><span style=color:#5bc4bf>(</span><span style=color:#48b685>&#34;uname&#34;</span><span style=color:#5bc4bf>));</span><span style=color:#776e71>//text
</span><span style=color:#776e71></span>		System<span style=color:#5bc4bf>.</span><span style=color:#06b6ef>out</span><span style=color:#5bc4bf>.</span><span style=color:#06b6ef>println</span><span style=color:#5bc4bf>(</span><span style=color:#48b685>&#34;密码&#34;</span> <span style=color:#5bc4bf>+</span> request<span style=color:#5bc4bf>.</span><span style=color:#06b6ef>getParameter</span><span style=color:#5bc4bf>(</span><span style=color:#48b685>&#34;pwd&#34;</span><span style=color:#5bc4bf>));</span><span style=color:#776e71>//password
</span><span style=color:#776e71></span>		System<span style=color:#5bc4bf>.</span><span style=color:#06b6ef>out</span><span style=color:#5bc4bf>.</span><span style=color:#06b6ef>println</span><span style=color:#5bc4bf>(</span><span style=color:#48b685>&#34;电子邮箱&#34;</span> <span style=color:#5bc4bf>+</span> request<span style=color:#5bc4bf>.</span><span style=color:#06b6ef>getParameter</span><span style=color:#5bc4bf>(</span><span style=color:#48b685>&#34;email&#34;</span><span style=color:#5bc4bf>));</span><span style=color:#776e71>//text
</span><span style=color:#776e71></span>		System<span style=color:#5bc4bf>.</span><span style=color:#06b6ef>out</span><span style=color:#5bc4bf>.</span><span style=color:#06b6ef>println</span><span style=color:#5bc4bf>(</span><span style=color:#48b685>&#34;年龄&#34;</span> <span style=color:#5bc4bf>+</span> request<span style=color:#5bc4bf>.</span><span style=color:#06b6ef>getParameter</span><span style=color:#5bc4bf>(</span><span style=color:#48b685>&#34;age&#34;</span><span style=color:#5bc4bf>));</span><span style=color:#776e71>//text
</span><span style=color:#776e71></span>		System<span style=color:#5bc4bf>.</span><span style=color:#06b6ef>out</span><span style=color:#5bc4bf>.</span><span style=color:#06b6ef>println</span><span style=color:#5bc4bf>(</span><span style=color:#48b685>&#34;真实姓名&#34;</span> <span style=color:#5bc4bf>+</span> request<span style=color:#5bc4bf>.</span><span style=color:#06b6ef>getParameter</span><span style=color:#5bc4bf>(</span><span style=color:#48b685>&#34;realname&#34;</span><span style=color:#5bc4bf>));</span><span style=color:#776e71>//text
</span><span style=color:#776e71></span>		System<span style=color:#5bc4bf>.</span><span style=color:#06b6ef>out</span><span style=color:#5bc4bf>.</span><span style=color:#06b6ef>println</span><span style=color:#5bc4bf>(</span><span style=color:#48b685>&#34;性别&#34;</span> <span style=color:#5bc4bf>+</span> request<span style=color:#5bc4bf>.</span><span style=color:#06b6ef>getParameter</span><span style=color:#5bc4bf>(</span><span style=color:#48b685>&#34;gender&#34;</span><span style=color:#5bc4bf>));</span><span style=color:#776e71>//radio
</span><span style=color:#776e71></span>		<span style=color:#776e71>//一对多的时候
</span><span style=color:#776e71></span>		String<span style=color:#5bc4bf>[]</span> favs <span style=color:#5bc4bf>=</span> request<span style=color:#5bc4bf>.</span><span style=color:#06b6ef>getParameterValues</span><span style=color:#5bc4bf>(</span><span style=color:#48b685>&#34;fav&#34;</span><span style=color:#5bc4bf>);</span><span style=color:#776e71>//checkbox
</span><span style=color:#776e71></span>		<span style=color:#776e71>//判断是否为空
</span><span style=color:#776e71></span>		<span style=color:#815ba4>if</span> <span style=color:#5bc4bf>(</span>favs <span style=color:#5bc4bf>!=</span> <span style=color:#815ba4>null</span> <span style=color:#5bc4bf>&amp;&amp;</span> favs<span style=color:#5bc4bf>.</span><span style=color:#06b6ef>length</span> <span style=color:#5bc4bf>&gt;=</span> 1<span style=color:#5bc4bf>)</span> <span style=color:#5bc4bf>{</span>
			<span style=color:#776e71>//遍历
</span><span style=color:#776e71></span>			<span style=color:#815ba4>for</span> <span style=color:#5bc4bf>(</span><span style=color:#fec418>int</span> i <span style=color:#5bc4bf>=</span> 0<span style=color:#5bc4bf>;</span> i <span style=color:#5bc4bf>&lt;</span> favs<span style=color:#5bc4bf>.</span><span style=color:#06b6ef>length</span><span style=color:#5bc4bf>;</span> i<span style=color:#5bc4bf>++)</span> <span style=color:#5bc4bf>{</span>
				System<span style=color:#5bc4bf>.</span><span style=color:#06b6ef>out</span><span style=color:#5bc4bf>.</span><span style=color:#06b6ef>println</span><span style=color:#5bc4bf>(</span>favs<span style=color:#5bc4bf>[</span>i<span style=color:#5bc4bf>]);</span>
			<span style=color:#5bc4bf>}</span>
		<span style=color:#5bc4bf>}</span>
	<span style=color:#5bc4bf>}</span>
<span style=color:#5bc4bf>}</span>

</code></pre></div><p>分析Response</p><div class=highlight><pre style=color:#e7e9db;background-color:#2f1e2e;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=color:#5bc4bf>import</span> <span style=color:#fec418>java.io.IOException</span><span style=color:#5bc4bf>;</span>

<span style=color:#5bc4bf>import</span> <span style=color:#fec418>javax.servlet.ServletException</span><span style=color:#5bc4bf>;</span>
<span style=color:#5bc4bf>import</span> <span style=color:#fec418>javax.servlet.ServletResponse</span><span style=color:#5bc4bf>;</span>
<span style=color:#5bc4bf>import</span> <span style=color:#fec418>javax.servlet.http.HttpServlet</span><span style=color:#5bc4bf>;</span>
<span style=color:#5bc4bf>import</span> <span style=color:#fec418>javax.servlet.http.HttpServletRequest</span><span style=color:#5bc4bf>;</span>
<span style=color:#5bc4bf>import</span> <span style=color:#fec418>javax.servlet.http.HttpServletResponse</span><span style=color:#5bc4bf>;</span>

<span style=color:#776e71>/**
</span><span style=color:#776e71> * 服务器创建了这个对象
</span><span style=color:#776e71> * 		行
</span><span style=color:#776e71> * 		头
</span><span style=color:#776e71> * 		体
</span><span style=color:#776e71> * @author Administrator
</span><span style=color:#776e71> *
</span><span style=color:#776e71> */</span>
<span style=color:#815ba4>public</span> <span style=color:#815ba4>class</span> <span style=color:#fec418>HiServlet</span> <span style=color:#815ba4>extends</span> HttpServlet <span style=color:#5bc4bf>{</span>
	<span style=color:#5bc4bf>@Override</span>
	<span style=color:#815ba4>protected</span> <span style=color:#fec418>void</span> <span style=color:#06b6ef>service</span><span style=color:#5bc4bf>(</span>HttpServletRequest req<span style=color:#5bc4bf>,</span> HttpServletResponse resp<span style=color:#5bc4bf>)</span> <span style=color:#815ba4>throws</span> ServletException<span style=color:#5bc4bf>,</span> IOException <span style=color:#5bc4bf>{</span>
		System<span style=color:#5bc4bf>.</span><span style=color:#06b6ef>out</span><span style=color:#5bc4bf>.</span><span style=color:#06b6ef>println</span><span style=color:#5bc4bf>(</span><span style=color:#48b685>&#34;HiServlet.service()&#34;</span><span style=color:#5bc4bf>);</span>
		<span style=color:#776e71>//响应行(一般不需要程序员手动操作
</span><span style=color:#776e71></span>		<span style=color:#776e71>//		resp.setStatus(HttpServletResponse.SC_NOT_FOUND);
</span><span style=color:#776e71></span>		<span style=color:#776e71>//响应头
</span><span style=color:#776e71></span>		resp<span style=color:#5bc4bf>.</span><span style=color:#06b6ef>setHeader</span><span style=color:#5bc4bf>(</span><span style=color:#48b685>&#34;Server&#34;</span><span style=color:#5bc4bf>,</span> <span style=color:#48b685>&#34;Tomcat&#34;</span><span style=color:#5bc4bf>);</span>
		<span style=color:#776e71>//不能设置同名的值，新值会覆盖掉上一个值
</span><span style=color:#776e71></span>		resp<span style=color:#5bc4bf>.</span><span style=color:#06b6ef>setHeader</span><span style=color:#5bc4bf>(</span><span style=color:#48b685>&#34;hello&#34;</span><span style=color:#5bc4bf>,</span> <span style=color:#48b685>&#34;bjsxt&#34;</span><span style=color:#5bc4bf>);</span>
		resp<span style=color:#5bc4bf>.</span><span style=color:#06b6ef>setHeader</span><span style=color:#5bc4bf>(</span><span style=color:#48b685>&#34;hello&#34;</span><span style=color:#5bc4bf>,</span> <span style=color:#48b685>&#34;sxt&#34;</span><span style=color:#5bc4bf>);</span>
		<span style=color:#776e71>//允许多个同名的值
</span><span style=color:#776e71></span>		resp<span style=color:#5bc4bf>.</span><span style=color:#06b6ef>addHeader</span><span style=color:#5bc4bf>(</span><span style=color:#48b685>&#34;hi&#34;</span><span style=color:#5bc4bf>,</span> <span style=color:#48b685>&#34;hanmeimei&#34;</span><span style=color:#5bc4bf>);</span>
		resp<span style=color:#5bc4bf>.</span><span style=color:#06b6ef>addHeader</span><span style=color:#5bc4bf>(</span><span style=color:#48b685>&#34;hi&#34;</span><span style=color:#5bc4bf>,</span> <span style=color:#48b685>&#34;lilei&#34;</span><span style=color:#5bc4bf>);</span>
		<span style=color:#776e71>//设置mime类型(可以解决中文乱码)
</span><span style=color:#776e71></span>		resp<span style=color:#5bc4bf>.</span><span style=color:#06b6ef>setCharacterEncoding</span><span style=color:#5bc4bf>(</span><span style=color:#48b685>&#34;UTF-8&#34;</span><span style=color:#5bc4bf>);</span>
		resp<span style=color:#5bc4bf>.</span><span style=color:#06b6ef>setHeader</span><span style=color:#5bc4bf>(</span><span style=color:#48b685>&#34;content-type&#34;</span><span style=color:#5bc4bf>,</span> <span style=color:#48b685>&#34;text/html;charset=utf-8&#34;</span><span style=color:#5bc4bf>);</span>
		<span style=color:#776e71>//响应实体内容
</span><span style=color:#776e71></span>		resp<span style=color:#5bc4bf>.</span><span style=color:#06b6ef>getWriter</span><span style=color:#5bc4bf>().</span><span style=color:#06b6ef>print</span><span style=color:#5bc4bf>(</span><span style=color:#48b685>&#34;&lt;h1&gt;hello &lt;font onclick=&#39;alert(1234567890);&#39; color=&#39;red&#39;&gt;汉字&lt;/font&gt;  jin liang bu yao chu xian zhong wen&#34;</span> <span style=color:#5bc4bf>+</span> Math<span style=color:#5bc4bf>.</span><span style=color:#06b6ef>random</span><span style=color:#5bc4bf>()</span> <span style=color:#5bc4bf>+</span> <span style=color:#48b685>&#34; &lt;/h1&gt;&#34;</span><span style=color:#5bc4bf>);</span>
	<span style=color:#5bc4bf>}</span>
<span style=color:#5bc4bf>}</span>
</code></pre></div></div><footer class=post-footer><ul class=post-tags><li><a href=https://sunbufu.vercel.app/tags/java/>java</a></li></ul><nav class=paginav><a class=prev href=https://sunbufu.vercel.app/posts/2018-and-before/2018-06-02-servlet/><span class=title>« Prev Page</span><br><span>Servlet</span></a>
<a class=next href=https://sunbufu.vercel.app/posts/2018-and-before/2018-06-02-database-util/><span class=title>Next Page »</span><br><span>数据库工具类</span></a></nav></footer></article></main><footer class=footer><span>&copy; 2021 <a href=https://sunbufu.vercel.app/>Sunbufu's blog</a></span>
<span>Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
        <a href=https://git.io/hugopapermod rel=noopener target=_blank>PaperMod</a></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)"><button class=top-link id=top-link type=button accesskey=g><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentcolor"><path d="M12 6H0l6-6z"/></svg></button></a>
<script>let menu=document.getElementById('menu');menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)},document.querySelectorAll('a[href^="#"]').forEach(a=>{a.addEventListener("click",function(b){b.preventDefault();var a=this.getAttribute("href").substr(1);window.matchMedia('(prefers-reduced-motion: reduce)').matches?document.querySelector(`[id='${decodeURIComponent(a)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(a)}']`).scrollIntoView({behavior:"smooth"}),a==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${a}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove('dark'),localStorage.setItem("pref-theme",'light')):(document.body.classList.add('dark'),localStorage.setItem("pref-theme",'dark'))})</script></body></html>